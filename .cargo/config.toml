# https://docs.rs/getrandom/latest/getrandom/#webassembly-support
[target.wasm32-unknown-unknown]
rustflags = '--cfg getrandom_backend="wasm_js"'

# Android-specific link-time optimizations for size reduction
# These flags help reduce binary size by removing dead code
# Note: We don't use -Wl,--strip-all here as we manually strip with llvm-strip --strip-all after build
# to preserve UniFFI bindings during the build process
# Using RUSTFLAGS environment variable approach instead of config.toml to avoid linker conflicts
# The --gc-sections flag is already included by Rust's default linker settings for release builds
